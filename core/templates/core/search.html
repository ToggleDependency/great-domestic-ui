{% extends 'core/base.html' %}

{% load static from staticfiles %}

{% block head_css %}
{{ block.super }}
<link href="{% static 'styles/default.css' %}" rel="stylesheet" type="text/css" />
<link href="{% static 'styles/pages/search-results.css' %}" rel="stylesheet" type="text/css" />
{% endblock %}

{% block head_title %}Search - great.gov.uk{% endblock %}
{% block css_layout_class %}search-results-page{% endblock css_layout_class %}

{% block content %}

{% block breadcrumbs %}
  <!--div class="container">
    <div class="breadcrumbs body-text">
      <ol>
        <li>
          <a href="/">great.gov.uk</a>
        </li>
        <li aria-current="page">Search</li>
      </ol>
    </div>
  </div-->
{% endblock %}

<section id="search-results-information">
  <div class="container">
    <h1 class="heading-xlarge">Search results for<span class="verbose"> {{ query }}</span></h1>

    <div class="actions">
      {% if results %}
        <p><a href="#search-results-list">224 results found<span class="verbose"> for food</span></a></p>
      {% else %}
        <p href="#search-results-list">No results found. Please try again</p>
      {% endif %}
      <form class="subscription-link" action="/subscriptions" method="post" aria-label="Email subscription">
        <input type="submit" value="Subscribe to email alerts for {{ query }}" class="link">
      </form>

      <form action="/search" class="search" method="get" aria-label="Search form">
        <label class="verbose" id="search-again-label" for="search-again-input">Search again</label>
        <input autocomplete="off" class="text form-control" name="q" placeholder="" type="search" value="{{ query }}" id="search-again-input">
        <input class="submit search-button" type="submit" value="Go">
      </form>
    </div>
    <a class="back" href="#">Back</a>
  </div>
</section>

{% if results %}
  <section id="search-results-list">
    <div class="container">
      <h2 class="verbose">Results found</h2>
      <p class="information verbose">Displaying items <b>1&nbsp;-&nbsp;25</b> of <b>{{ results|length }}</b> in total</p>
      <ul class="results" aria-label="Search results">
        {% for result in results %}
          <li>
            <span class="type">{{ result.type }}</span>
            <a class="title link" href="#">{{ result.name }}</a>
            <p class="description">{{ result.content }}</p>
          </li>
        {% endfor %}
      </ul>


      <div class="pagination">
        <p class="verbose">Displaying page 2 of total 9</p>
        <a class="previous" rel="prev" href="/opportunities?s=food">Previous</a>
        <a class="next" rel="next" href="/opportunities?paged=3&amp;s=food">Next</a>
        <ul class="navigation" role="navigation" aria-label="Page navigation">
          <li>
            <a rel="prev" href="/opportunities?s=food"><span class="verbose">Page </span>1</a>
          </li>
          <li>
            <span class="verbose">Page </span>
            <span class="active current">2</span>
            <span class="verbose">(current) </span>
          </li>
          <li>
            <a rel="next" href="/opportunities?paged=3&amp;s=food"><span class="verbose">Page </span>3</a>
          </li>
          <li>
            <a href="/opportunities?paged=4&amp;s=food"><span class="verbose">Page </span>4</a>
          </li>
          <li>
            <a href="/opportunities?paged=5&amp;s=food"><span class="verbose">Page </span>5</a>
          </li>
          <li>
            <span class="verbose">Page links truncated</span>
            <span class="gap">â€¦</span>
          </li>
          <li><a href="/opportunities?paged=9&amp;s=food"><span class="verbose">Page </span>9</a></li>
        </ul>
      </div>
    </div>
  </section>
{% else %}
{% endif %}

{% endblock %}
